<?xml version="1.0" ?>
<sod xmlns:xlink="http://www.w3.org/1999/xlink/">
    <properties>
        <runName>RealTime RecFunc</runName>
        <statusBase>status</statusBase>
        <eventQueryIncrement>
            <value>1</value>
            <unit>WEEK</unit>
        </eventQueryIncrement>
        <eventLag>
            <value>8</value>
            <unit>WEEK</unit>
        </eventLag>
        <eventRefreshInterval>
            <value>9</value>
            <unit>MINUTE</unit>
        </eventRefreshInterval>
        <waveformWorkerThreads>2</waveformWorkerThreads>
        <maxRetryDelay>
            <value>6</value>
            <unit>WEEK</unit>
        </maxRetryDelay>
        <statusPages>FALSE</statusPages>
    </properties>
    <eventArm>
        <quakeML><url>http://service.iris.edu/fdsnws/event/1/query?starttime=2011-02-27T06:30:00&amp;endtime=2013-03-01T06:30:00&amp;minmag=5.5&amp;orderby=time&amp;output=xml&amp;contributor=NEIC+PDE-M&amp;catalog=NEIC PDE</url></quakeML>

        <removeEventDuplicate/>
        <!-- Print out a line for each successful event -->
        <printlineEventProcess/>
    </eventArm>
    <networkArm>
        <stationXML><url>http://www.iris.edu/ws/station/query?net=II,IU&amp;chan=BH?</url></stationXML>
        <networkOR>
            <networkCode>II</networkCode>
            <networkCode>IU</networkCode>
        </networkOR>
        <stationEffectiveTimeOverlap>
            <startTime>20050101T00:00:00.001Z</startTime>
            <endTime>20201231T23:59:59.999Z</endTime>
        </stationEffectiveTimeOverlap>
        <channelOR>
            <siteCode>  </siteCode>
            <siteCode>00</siteCode>
        </channelOR>
        <channelAND>
            <!-- Accept any channel with B band code -->
            <channelOR>
                <bandCode>B</bandCode>
            </channelOR>
            <gainCode>H</gainCode>
            <channelOR>
                <orientationCode>Z</orientationCode>
                <orientationCode>N</orientationCode>
                <orientationCode>E</orientationCode>
            </channelOR>
            <channelEffectiveTimeOverlap>
                <startTime>20050101T00:00:00.001Z</startTime>
                <endTime>20201231T23:59:59.999Z</endTime>
            </channelEffectiveTimeOverlap>
        </channelAND>
        <printlineChannelProcess/>
    </networkArm>
    <waveformVectorArm>
        <eventStationAND>
            <distanceRange>
                <unit>DEGREE</unit>
                <min>30</min>
                <max>100</max>
            </distanceRange>
            <phaseExists>
                <modelName>prem</modelName>
                <phaseName>P</phaseName>
            </phaseExists>
        </eventStationAND>
        <eventVectorNOT>
            <externalEventVectorSubsetter>
                <classname>edu.sc.seis.receiverFunction.server.RecFuncCacheCheck</classname>
                <gaussianWidth>2.5</gaussianWidth>
                <dns>edu/sc/seis/test</dns>
                <name>Ears</name>
            </externalEventVectorSubsetter>
        </eventVectorNOT>
        <phaseRequest>
            <beginPhase>P</beginPhase>
            <beginOffset>
                <unit>SECOND</unit>
                <value>-120</value>
            </beginOffset>
            <endPhase>ttp</endPhase>
            <endOffset>
                <unit>SECOND</unit>
                <value>180</value>
            </endOffset>
        </phaseRequest>
        <dataSelectWebService/>
        <ORAvailableDataWrapper>
            <someCoverage/>
        </ORAvailableDataWrapper>
        <noDataGaps/>
        <fullDataCoverage/>
        <threeComponentData/>
        <ORWaveformProcessWrapper>
            <phaseSignalToNoise>
                <modelName>prem</modelName>
                <phaseName>P</phaseName>
                <shortOffsetBegin>
                    <unit>SECOND</unit>
                    <value>-1</value>
                </shortOffsetBegin>
                <shortOffsetEnd>
                    <unit>SECOND</unit>
                    <value>5</value>
                </shortOffsetEnd>
                <longOffsetBegin>
                    <unit>SECOND</unit>
                    <value>-105</value>
                </longOffsetBegin>
                <longOffsetEnd>
                    <unit>SECOND</unit>
                    <value>-5</value>
                </longOffsetEnd>
                <ratio>2.0</ratio>
            </phaseSignalToNoise>
        </ORWaveformProcessWrapper>
        <phaseCut>
            <beginPhase>P</beginPhase>
            <beginOffset>
                <unit>SECOND</unit>
                <value>-30</value>
            </beginOffset>
            <endPhase>P</endPhase>
            <endOffset>
                <unit>SECOND</unit>
                <value>120</value>
            </endOffset>
        </phaseCut>
        <threeComponentData/>
        <rMean/>
        <rTrend/>
        <taper/>
        <responseGain/>
        <filter>
            <lowFreqCorner>
                <value>50</value>
                <unit>SECOND</unit>
            </lowFreqCorner>
            <highFreqCorner>
                <value>5</value>
                <unit>HERTZ</unit>
            </highFreqCorner>
            <numPoles>2</numPoles>
            <filterType>NONCAUSAL</filterType>
        </filter>
        <decimate>
            <maxSamplesPerSec>20</maxSamplesPerSec>
            <antiAliasFilter>
            </antiAliasFilter>
        </decimate>
        <externalWaveformVectorProcess>
            <classname>edu.sc.seis.receiverFunction.crust2.Crust2Process</classname>
        </externalWaveformVectorProcess>
            <waveformVectorNOT>
                <externalEventVectorSubsetter>
                    <classname>edu.sc.seis.receiverFunction.server.RecFuncCacheCheck</classname>
                    <gaussianWidth>2.5</gaussianWidth>
                    <dns>edu/sc/seis/test</dns>
                    <name>Ears</name>
                </externalEventVectorSubsetter>
            </waveformVectorNOT>
        <externalWaveformVectorProcess>
            <classname>edu.sc.seis.receiverFunction.server.RecFuncCacheProcessor</classname>
            <workingDir>RT_recfunc</workingDir>
            <gaussianWidth>2.5</gaussianWidth>
            <dns>edu/sc/seis/test</dns>
            <name>Ears</name>
        </externalWaveformVectorProcess>
        <printlineSeismogramProcess/>
    </waveformVectorArm>
</sod>
